jQuery(document).ready((function(a){var e=[];a(".company_listings").on("update_results",(function(n,i,o){var t,s=a(this),r=a(".company_filters"),d=a(".showing_companies"),c=s.find(".company_listings"),l=s.data("per_page"),p=s.data("orderby"),_=s.data("order"),g=s.data("featured"),m=s.data("active_jobs"),u=s.data("post_status"),h=a("div.company_listings").index(this),y=a(".listing-loader"),f=s.data("company_layout"),v=s.data("company_version");if(!(h<0)){e[h]&&e[h].abort(),o?(a(".load_more_companies",s).addClass("loading"),a(y).fadeIn()):(a(c).addClass("loading"),a(y).fadeIn(),a(".company, .no_companies_found",c).css("visibility","hidden"));var w=r.find(':input[name^="search_categories"]').map((function(){return a(this).val()})).get(),b="",k="",j=r.find(':input[name="search_keywords"]'),x=r.find(':input[name="search_location"]');j.val()!==j.attr("placeholder")&&(b=j.val()),x.val()!==x.attr("placeholder")&&(k=x.val()),t={action:"cariera_get_companies",search_keywords:b,search_location:k,search_categories:w,filter_post_status:u,per_page:l,orderby:p,order:_,page:i,featured:g,active_jobs:m,show_pagination:s.data("show_pagination"),form_data:r.serialize(),company_layout:f,company_version:v},e[h]=a.ajax({type:"POST",url:cariera_company_ajax_filters.ajax_url,data:t,success:function(e){if(e)try{e.showing?a(d).show().html("").append("<span>"+e.showing+"</span>"+e.showing_links):a(d).hide(),e.html&&(o?a(c).append(e.html):a(c).html(e.html)),1==s.data("show_pagination")?(s.find(".company-manager-pagination").remove(),e.pagination&&s.append(e.pagination)):(e.found_companies&&e.max_num_pages!==i?a(".load_more_companies",s).show().data("page",i):a(".load_more_companies",s).hide(),a(".load_more_companies",s).removeClass("loading"),a("li.company",c).css("visibility","visible")),a(c).removeClass("loading"),a(y).fadeOut(),s.triggerHandler("updated_results",e)}catch(a){window.console&&window.console.log(a)}},error:function(a,e,n){window.console&&"abort"!==e&&window.console.log(e+": "+n)},statusCode:{404:function(){window.console&&window.console.log("Error 404: Ajax Endpoint cannot be reached. Go to Settings > Permalinks and save to resolve.")}}})}})),a("#search_keywords, #search_location, #search_radius_status, #search_radius, #search_categories").change((function(){a("div.company_listings").triggerHandler("update_results",[1,!1])})).change().on("keyup",(function(e){13===e.which&&a(this).trigger("change")})),a(".company_filters").on("click",".reset",(function(){var e=a("div.company_listings"),n=a(this).closest("form");return n.find(':input[name="search_keywords"]').not(':input[type="hidden"]').val(""),n.find(':input[name="search_location"]').not(':input[type="hidden"]').val(""),n.find(':input[name^="search_categories"]').not(':input[type="hidden"]').val(0).trigger("change.select2"),e.triggerHandler("reset"),e.triggerHandler("update_results",[1,!1]),!1})),a(".load_more_companies").click((function(){var e=a(this).closest("div.company_listings"),n=a(this).data("page");return n=n?parseInt(n):1,a(this).data("page",n+1),e.triggerHandler("update_results",[n+1,!0]),!1})),a("div.company_listings").on("click",".company-manager-pagination a",(function(){var e=a("div.company_listings"),n=a(this).data("page");return e.triggerHandler("update_results",[n,!1]),a("body, html").animate({scrollTop:e.offset().top},600),!1}))}));